# mmi_and_other_measures
data and code to reproduce results from DIALOGUE-2025 submission

Код рассчитывает значение несколько мер устойчивости словосочетаний. Все они опираются на теоретико-информационную характеристику взаимной информации (mutual information). Все формулы вынесены в файл mi_family.py
Основные формулы: 
- **pmi** (Pointwise mutual information, формула для двухсловных выражений изначально предложена в работе Church K., Hanks P. Word association norms, mutual information, and lexicography. Computational linguistics. 1990;16(1):22-9. Черч и Хэнкс предпочитают называть ее association ratio. Мы используем адаптацию формулы для словосочетаний разной длины, предложенную в работе Ramisch C., Villavicencio A., Boitet C. mwetoolkit: A framework for multiword expression identification // Proceedings of the Seventh International Conference on Language Resources and Evaluation (LREC 2010), Valetta, Malta, 2010. P. 662–669.И вслед за  [Ramisch et al. 2010] называем ее pointwise mutual information,  сокрщенно pmi.
- **mi3** (Qubic mutual information, MI в кубе. Мы используем вариант, имплементированный в Национальном корпусе русского языка (ruscorpora.ru) РЯ для ранжирования результатов при поиске двухсловных коллокаций. Он отличается от формулы, предложенной в диссертации Daille, Béatrice (1994). Approche mixte pour l’extraction automatique de terminologie : statistiques lexicales et filtres linguistiques. Ph.D. thesis, Université Paris 7. В НКРЯ  используется натуральный логарифм, а не логарифм по основанию 2. Адаптация для словосочетаний разной длины подчиняется той же логике, что pmi.
- **mmi** Предлагаемый нами вариант. Он опирается на морфологические паттены, а не на размер корпуса.

  Файл application.py обрабатывает данные по 351 словосочетанию и формирует файлы result.csv и connectives_in_qurestion.txt. В них для каждого словосочетания перечислены значения метрик mmi (второй столбец),mi3 (третий столбец) ,pmi (четвертый столбец).

  result.csv содержит 242 словосочетания, которые признаны едиными коннекторами на основе лингвичтических критериев.
  connectives_in_qurestion.txt содержит 109 словосочетаний, природу которых лингвистические критерии определить не позволяют. Для решения вопроса о том, относить ли конкретную единицу к классу единых коннекторов, и были привлечены статистические инструменты.

  Среди рассматриваемых единиц имеются такие пары, когда более короткое выражение можно охарактеризовать как подстроку более длинного, например, _вот оттого_, _и вот оттого_. Для крректного рассчета метрик из значения аболютной частоты более короткого выражения, найденного в корпусе, нужно вычесть значение аболютной частоты более длинного. Файл application.py делает эту поправку, опираясь на список единиц из файла embeddings.txt

Данные по всем словосочетаниям хранятся в таблице connectives.csv. 

 - В первом столбце содержится словосочетание.

 - Во втором столбце указана длина словосочетания в словах, (словом считается цепочка букв между двумя пробелами).

 - В третьем столбце приводится паттерн, наоснове которого рассчитывалось значение метрики mmi.

 - Четвертый столбец содержит значение абсолютной частоты словосочетания в основном корпусе НКРЯ, полученное лексико-грамматическиим по запросу "словоформа + ... + словоформа". Расстояние между любой парой словоформ - "от 1 до 1". 

 - Четвертый столбец содержит значение абсолютной частоты словосочетания в основном корпусе НКРЯ, полученное лексико-грамматическиим по запросу "словоформа + ... + словоформа" с морфологическими ограничениями, соответствующими паттерну из третьего столбца. Расстояние между любой парой словоформ - "от 1 до 1" .

 - Следующие два, три, четыре или пять столбцов (в соответствии с длиной словосочетания) содержат значение абсолютной частоты одной конкретной словоформы на "своей" позиции в паттерне. 

 - Предпоследний столбец (разный для каждой строки) содержит абсолютную частоту морфологического паттерна. 

 - Последний столбец содержит информацию о том, признано ли данное словосочетание единым коннектором на основе лингвичтических критериев. Если да, то стоит помета "единый", если нет - помета "вопрос".

Данные собраны летом 2024 года.
  
